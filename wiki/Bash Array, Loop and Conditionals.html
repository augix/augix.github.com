<html>
<head>
	<link rel="Stylesheet" type="text/css" href="../templates/skinny_disqus.css" />
	<title>Bash Array, Loop and Conditionals</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>

<body>
<a name='top'></a>
<div class="container">
    <div class="header">
		<h1>Bash Array, Loop and Conditionals</h1> 
	</div><!-- end of header -->
	<div class="post"><!-- start of post -->
	
<h1 id="toc_1">For Loop</h1>
<p>
&lt;bash&gt;
jj=(1 4 15 16 32 40 41 58 61 72 73 74 97);
for j in <code>seq 0 12</code>; do
  qsub 3way_4tissues.anova.sge.hugemem ${jj[$j]};
done
&lt;/bash&gt;
</p>

<ul>
<li>
break, continue

</ul>
<p>
The break command terminates the loop (breaks out of it), while continue causes a jump to the next iteration of the loop, skipping all the remaining commands in that particular loop cycle.
</p>

<h1 id="toc_2">Case</h1>
<p>
&lt;bash&gt;
case word in
  pattern1) 
</p>
<blockquote>
list of command
;;
</blockquote>
<p>
  pattern2)
</p>
<blockquote>
list of command
;;
</blockquote>
<p>
esac
&lt;/bash&gt;
<a href="bash case.html">bash case</a>
</p>

<h1 id="toc_3">For Array</h1>
<p>
&lt;bash&gt;
mm="2 4";
dd="random normal X1 link";
for m in $mm; do
  for d in $dd; do
</p>
<blockquote>
echo $m.$d;
</blockquote>
<p>
  done;
done;
&lt;/bash&gt;
</p>

<p>
or
&lt;bash&gt;
mm=(2 4);
dd=(random normal X1 link);
for m in "${mm[@]}"; do
  for d in "${dd[@]}"; do
</p>
<blockquote>
echo $m.$d;
</blockquote>
<p>
  done;
done;
&lt;/bash&gt;
</p>

<ul>
<li>
convert string to array

</ul>
<p>
&lt;bash&gt;
str='1 2 3 a b c'
array=($str)
&lt;/bash&gt;
</p>

<p>
reference: <a href="http://www.thegeekstuff.com/2010/06/bash-array-tutorial/">The Ultimate Bash Array Tutorial with 15 Examples</a>
</p>

<h1 id="toc_4">while</h1>
<pre>
    while [ -e $trash_dir/$newfile ]; do
		random_suffix=$RANDOM
		newfile=${file}.${random_suffix}
	done
</pre>

<h1 id="toc_5">until</h1>
<p>
opposite to while, it does something repeatedly until the condition is ture.
</p>

<h1 id="toc_6">If conditional</h1>

<p>
&lt;bash&gt;
if COMMANDS ; then 
COMMANDS; 
[ elif COMMANDS; then COMMANDS ; ]... 
[ else COMMANDS; ] 
fi
&lt;/bash&gt;
</p>

<p>
<a href="http://www.thegeekstuff.com/2010/06/bash-conditional-expression/">http://www.thegeekstuff.com/2010/06/bash-conditional-expression/</a>
</p>

<p>
In the above web page, example 6 explains the difference between [ and [[ (single square bracket and double square bracket). The [[ is an enhanced version of [, in contrast to [ which is a command like "test", [[ is a keyword, it is only recognized in korn and bash.
</p>

<p>
<a href="http://steve-parker.org/sh/test.shtml">http://steve-parker.org/sh/test.shtml</a>
</p>

<pre>
-e      exist file
-d      directory exist 
-eq     equal number
-ne     not equal
-gt     a greater than b
-lt     less than
-nt     newer than
-ot     older than
==      same string
!=      not same string
-z      true if string size is zero
</pre>

<p>
ps: == only works in bash, run 'bash script.sh' instead of 'sh script.sh'.
</p>

<p>
&lt;bash&gt;
if [ -e chrX.idx ]; then
  echo "index file exist!";
else 
  nohup ./segemehl.x -d chrX.fa -x chrX.idx
fi
&lt;/bash&gt;
</p>

<p>
&lt;bash&gt;
if [ ! -d $outdir ]; then mkdir $outdir; fi
&lt;/bash&gt;
</p>

<p>
for directory:
&lt;bash&gt;
if [ -d ./doc/ ]; then
&lt;/bash&gt;
</p>

<h2 id="toc_6.1">Nested If conditionals</h2>
<p>
&lt;bash&gt;
	if condition
	then
		if condition
		then
			.....
			..
			do this
		else
			....
			..
			do this
		fi
	else
		...
		.....
		do this
	fi
&lt;/bash&gt;
</p>

<p>
&lt;bash&gt;
if [ condition ]
then 
</p>
<blockquote>
action
</blockquote>
<p>
elif [ condition2 ]
then
</p>
<blockquote>
action2
</blockquote>
<p>
.
.
.
elif [ condition3 ]
then
</p>

<p>
else
</p>
<blockquote>
actionx
</blockquote>
<p>
fi
&lt;/bash&gt;
</p>

<h1 id="toc_7">Condition and string comparison</h1>
<p>
&lt;bash&gt;
S1='name'
S2='Name'
if [ $S1 == $S2 ];    # NOTE [with spaces] 
then
   echo "$S1 == $S2";
else
   echo "$S1 != $S2 ";
fi
</p>

<p>
if [ -e ./tmp.sh ];
then 
  echo "file exist\n";
else
  echo "no file\n";
fi
&lt;/bash&gt;
</p>

	</div><!-- end of post -->
	<div class="backhome">
		<a href="../index.html">Main Page</a><br>
        <a href="#disqus_thread" data-disqus_identifier="vimwiki: Bash Array, Loop and Conditionals" id="disqus_thread-show" class="showLink" onclick="showHide('disqus_thread');return true;">Comments</a>
	</div>
<br>

<!-- javascript to hide comments -->
<script language="javascript" type="text/javascript">
/*** JavaScript: Show/Hide Content ***/
function showHide(shID) {
   if (document.getElementById(shID)) {
      if (document.getElementById(shID+'-show').style.display != 'none') {
         document.getElementById(shID+'-show').style.display = 'none';
         document.getElementById(shID).style.display = 'block';
      }
      else {
         document.getElementById(shID+'-show').style.display = 'inline';
         document.getElementById(shID).style.display = 'none';
      }
   }
}
</script>

<!-- javascript to show count of comments -->
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'augix-wiki'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>


<a name="disqus_thread"></a>
<div id="disqus_thread" class="comment"><p align='right'><a href="#top" id="disqus_thread-hide" class="hideLink" onclick="showHide('disqus_thread');return true;">Hide Comments</a></p>
</div>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'augix-wiki'; // required: replace example with your forum shortname

    // The following are highly recommended additional parameters. Remove the slashes in front to use.
    // var disqus_identifier = 'unique_dynamic_id_1234';
    var disqus_identifier = "vimwiki: Bash Array, Loop and Conditionals";
    // var disqus_url = 'http://example.com/permalink-to-page.html';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

</div><!-- end of container -->

</body>
</html>
