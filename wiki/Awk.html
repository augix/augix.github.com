<html>
<head>
	<link rel="Stylesheet" type="text/css" href="../../Public/templates/skinny_disqus.css" />
	<title>Awk</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>

<body>
<div class="container">
    <div class="header">
		<h1>Awk</h1> 
	</div><!-- end of header -->
	<div class="post">
	
<h1 id="toc_1">Reference</h1>
<ul>
<li>
<a href="http://www.ibm.com/developerworks/linux/library/l-awk1/index.html">Common threads: Awk by example</a>

<li>
<a href="http://www.cs.hmc.edu/qref/awk.html">Getting Start with awk</a>

</ul>

<h1 id="toc_2">Usage</h1>
<p>
&lt;bash&gt;
awk '$1 &gt; $2 {print $1,$2,$1-$2}' filename
&lt;/bash&gt;
</p>

<p>
The part outside the curly braces is called the "pattern", and the part inside is the "action". The comparison operators include the ones from C:
 == != &lt; &gt; &lt;= &gt;= ?:
If no pattern is given, then the action applies to all lines.
</p>


<h1 id="toc_3">Examples</h1>

<ul>
<li>
join every two lines in a text file

</ul>
<p>
&lt;bash&gt;
awk '{ if ( ( NR % 2 ) == 0 ) { printf("%s\n",$0) } else { printf("%s ",$0) } }' file
&lt;/bash&gt;
</p>

<ul>
<li>
other

</ul>
<p>
&lt;bash&gt;
awk -F "\t" '$3 &gt; 18 {print $1}' all_mat.glue
</p>

<p>
awk -F " " '{ print $2"\t"$3"\t"set $3+25 }' temp2/$i &gt; $i.coordinates
&lt;/bash&gt;
</p>

<ul>
<li>
ENSEMBL to UCSC gene annotation. (chromosome name conversion, strand information conversion)

</ul>
<p>
&lt;bash&gt;
grep -vP '\t\t' $i | cut -f 1-6 | awk '{ if ($1!="Chromosome") { if ($6=="1") {printf("chr%s\t+\n",$0)} else {printf("chr%s\t-\n",$0)} } }' | cut -f 1-5,7 | sed 's/chrMT/chrM/' &gt; $out
&lt;/bash&gt;
</p>

<ul>
<li>
misc

</ul>
<p>
&lt;bash&gt;
grep -P 'final|total|Index' 0513.log | tr '=' ' ' | awk '{ if (/:/) {print $NF} else { print $1 }}'| awk '{ if (NR%5==0) {printf("%s\n",$1)} else {printf("%s ",$1)} }'
&lt;/bash&gt;
</p>

	</div><!-- end of post -->
<br>

</div><!-- end of container -->

</body>
</html>
